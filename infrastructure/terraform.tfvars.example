# Proxmox API Configuration
proxmox_api_url = "https://your-proxmox-host:8006/api2/json"
proxmox_node = "your-proxmox-node"
proxmox_api_token_id = "root@pam!terraform"
proxmox_api_token_secret = "your-api-token-secret"

# Template Configuration
template_name = "ubuntu-cloud-init-template"
template_vm_id = 9000

# Storage Configuration
datastore_id = "local-lvm"

# SSH Configuration
ssh_public_key = "ssh-rsa AAAAB3NzaC1yc2E... your-ssh-key"
ssh_private_key_file = "~/.ssh/id_rsa"

# VM User Configuration
vm_username = "ansible"

# RKE2 Server Nodes Configuration
rke2_servers = {
  count        = 3
  vm_id_start  = 500
  ip_start     = "192.168.3.21"
  cpu_cores    = 2
  memory       = 4096
  disk_size    = 50
}

# RKE2 Agent Nodes Configuration
rke2_agents = {
  count        = 2
  vm_id_start  = 550
  ip_start     = "192.168.3.24"
  cpu_cores    = 2
  memory       = 4096
  disk_size    = 50
}

# Network Configuration
network_config = {
  bridge      = "vmbr0"
  subnet      = "192.168.3.0/24"
  subnet_mask = 24
  gateway     = "192.168.3.1"
  vlan_id     = null  # Set to VLAN ID if needed, or null for no VLAN
}

# RKE2 Cluster Configuration
rke2_config = {
  os               = "linux"
  arch             = "amd64"
  vip              = "192.168.3.50"
  vip_interface    = "eth0"
  metallb_version  = "v0.13.12"
  lb_range         = "192.168.3.80-192.168.3.90"
  lb_pool_name     = "first-pool"
  rke2_version     = "v1.29.4+rke2r1"
  kube_vip_version = "v0.8.0"
}

# External Access Configuration
# Set this to your public IP or FQDN for external access to the cluster
# Leave empty to use only internal VIP (cluster will only be accessible from internal network)
external_endpoint = ""  # Example: "203.0.113.10" or "k8s.example.com"

# Cloudflare Configuration
cloudflare_api_token = "your-cloudflare-api-token"  # Token with Zone:DNS:Edit permissions
cloudflare_domain    = "example.com"                # Your domain managed by Cloudflare

# Cluster Configuration
cluster_name = "infraflux-rke2"

# Cilium Networking Configuration (Optional - has defaults)
# cilium_config = {
#   pod_cidr           = "10.244.0.0/16"
#   service_cidr       = "10.96.0.0/12"
#   bgp_asn           = 65001
#   bgp_peer_asn      = 65000
#   lb_ip_range       = "192.168.3.80-192.168.3.90"
#   enable_bgp        = true
#   enable_encryption = true
# }