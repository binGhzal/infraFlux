---
- name: "k3s-worker"
  count: 3
  node_name: "pve"
  resource_name: "k3s-wkr"
  vm_id: 8500
  agent:
    enabled: true
    type: "virtio"
  bios: "seabios"
  ignore_changes:
    - "disks"
    - "cdrom"
  cpu:
    cores: 4
    sockets: 1
  cloud_init:
    type: "nocloud"
    interface: "ide0"
    datastore_id: "bigdisk"
    dns:
      domain: ""
      servers: [ "8.8.8.8" ]
    ip_configs:
      - ipv4:
          address: "10.1.1.50/24"
          gateway: "10.0.0.1"
    user_account:
      username: "root"
      keys:
        - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOhs+pheukLtJI3WBAfCxciDCwrDiYdXIepnXx5YB/K5
  clone:
    node_name: "pve"
    vm_id: 9991
    full: true
  disks:
    - disk1:
        interface: "scsi0"
        datastore_id: "bigdisk"
        size: 32
        file_format: "raw"
        cache: "none"
  memory:
    dedicated: 4096
  network_devices:
    - net0:
        bridge: "vmbr0"
        model: "virtio"
        vlanId: 69
  on_boot: true
