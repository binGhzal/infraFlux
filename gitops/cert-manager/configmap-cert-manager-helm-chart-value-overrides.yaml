apiVersion: v1
kind: ConfigMap
metadata:
  name: cert-manager-helm-chart-value-overrides
  namespace: cert-manager
data:
  values.yaml: |
    # Install CRDs as part of the Helm release
    crds:
      enabled: true
      keep: true
      
    # Global settings
    global:
      priorityClassName: ""
      rbac:
        create: true
      podSecurityPolicy:
        enabled: false
        useAppArmor: true
      logLevel: 2
      leaderElection:
        namespace: cert-manager
        
    # Controller settings
    controller:
      replicaCount: 1
      
      # Resource settings
      resources:
        limits:
          cpu: 500m
          memory: 512Mi
        requests:
          cpu: 100m
          memory: 128Mi
          
      # Security context
      securityContext:
        runAsNonRoot: true
        runAsUser: 1000
        fsGroup: 1000
        
      # Feature gates
      featureGates: ""
      
      # Additional args
      extraArgs:
        - --dns01-recursive-nameservers-only
        - --dns01-recursive-nameservers=1.1.1.1:53,9.9.9.9:53
        
    # Webhook settings
    webhook:
      replicaCount: 1
      
      resources:
        limits:
          cpu: 500m
          memory: 128Mi
        requests:
          cpu: 10m
          memory: 32Mi
          
      securityContext:
        runAsNonRoot: true
        runAsUser: 1000
        fsGroup: 1000
        
    # CA Injector settings
    cainjector:
      replicaCount: 1
      
      resources:
        limits:
          cpu: 500m
          memory: 512Mi
        requests:
          cpu: 100m
          memory: 128Mi
          
      securityContext:
        runAsNonRoot: true
        runAsUser: 1000
        fsGroup: 1000
        
    # Monitoring
    prometheus:
      enabled: false
      servicemonitor:
        enabled: false